function CharTyped(d,e){var b={txtSnapshot:{prtxt:"",sel:{}},obj:null,onKeyPressed:function(a){a=a||window.event;var c=1;13==a.keyCode&&(c=0);var b=this.obj.selectionStart;a=this.obj.value;void 0!==this.txtSnapshot.sel.s?this.txtSnapshot.sel.s+1+(this.txtSnapshot.prtxt.length-this.txtSnapshot.sel.e)!=a.length&&(c=0):(a==this.txtSnapshot.prtxt&&(c=0),a.length<this.txtSnapshot.prtxt.length&&(c=0));b=a.charAt(b-1);this.txtSnapshot.prtxt=a;this.txtSnapshot.sel={};c&&this.callback(b)},off:function(){window.removeEventListener?
this.obj.removeEventListener("keyup",this.cb,!1):this.obj.detachEvent("onkeyup",this.cb);this.callback=this.obj=null},on:function(a,b){this.obj=a;this.callback=b;window.addEventListener?this.obj.addEventListener("keyup",this.cb,!1):this.obj.attachEvent("onkeyup",this.cb)},cb:function(a){b.onKeyPressed(a)}};if(d&&e)b.on(d,e);return b};