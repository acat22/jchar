(function(e){function f(b,a){var d={txtSnapshot:{prtxt:"",sel:{}},obj:null,onKeyPressed:function(c){c=c||window.event;var a=1;13==c.keyCode&&(a=0);var b=this.obj.selectionStart;c=this.obj.value;void 0!==this.txtSnapshot.sel.s?this.txtSnapshot.sel.s+1+(this.txtSnapshot.prtxt.length-this.txtSnapshot.sel.e)!=c.length&&(a=0):(c==this.txtSnapshot.prtxt&&(a=0),c.length<this.txtSnapshot.prtxt.length&&(a=0));b=c.charAt(b-1);this.txtSnapshot.prtxt=c;this.txtSnapshot.sel={};a&&this.callback(b)},off:function(){window.removeEventListener?
this.obj.removeEventListener("keyup",this.cb,!1):this.obj.detachEvent("onkeyup",this.cb);this.callback=this.obj=null},on:function(a,b){this.obj=a;this.callback=b;window.addEventListener?this.obj.addEventListener("keyup",this.cb,!1):this.obj.attachEvent("onkeyup",this.cb)},cb:function(a){d.onKeyPressed(a)}};if(b&&a)d.on(b,a);return d}e.fn.onchar=function(b){var a=this.data("_chartyped_for_jquery.Jchar.js");b?a||(a=new f(this.get(0),b),this.data("_chartyped_for_jquery.Jchar.js",a)):(a&&a.off(),this.data("_chartyped_for_jquery.Jchar.js",
null));return this}})(jQuery);